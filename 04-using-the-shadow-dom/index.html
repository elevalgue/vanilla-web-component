<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Practical Guide to Vanilla Web Components: Module 1 - Web Component
      Fundamentals
    </title>
    <style>
      p {
        color: red;
      }
    </style>
  </head>
  <body>
    <p>Paragraph text in the outer application.</p>
    <div id="simple-div"></div>
    <p>Some more paragraph text in the outer application.</p>
    <!-- 1. Let's attach the Shadow root or Shadow DOM to the "div" element -->
    <script>
      // 2. We're just selecting it by using "document.getElementByID" method
      let $div = document.getElementById('simple-div');

      // 3. To create a shadow group for this element, we just use the "attachShadow" method

      // 4. Then we'll provide an object with a mode property with value of open.
      // Open mode will allow us to manipulate the contents of the shadow root freely.
      $div.attachShadow({ mode: 'open' });

      // 5. For the shadow root created for this element we'll go ahead and add some content to it and get the benefits of its encapsulation.

      // 6. By using the shadow root property, we can get direct access to the shadow we just attached to this element, and we can interact with that in the normal way we would with the element, such as using an append child or in a HTML.

      $div.shadowRoot.innerHTML = `
        <style>
            p{
                color: blue;
            }
        </style>
        <p>Paragraph text within the Shadow DOM!</p>`;

      // So with the benefits of the Shadow DOM encapsulation, because we've added our new paragraph tag to the Shadow DOM and it isn't affected by the starting of the outer application, we should otherwise set it's color to red. Instead, it's color blue, because we added some additional styling to the Shadow DOM, which it will still inherit because it's part of the encapsulated context. Aditionally the other paragraph elements in the page are not affected  by this new styling because the styling inside the Shadow DOM will not leak out into tht outer application.

      // These encapsulation capabilities are so significant because we can utilize this functionality in our web components. With this functionality we cab be sure that when users add our component to their applications, the look and feel of our components isn't going to be broken by any styling they added in their application.

      // Equally we can be confident that anything we added in our component isn't goinf to affect their application.
    </script>
  </body>
</html>
